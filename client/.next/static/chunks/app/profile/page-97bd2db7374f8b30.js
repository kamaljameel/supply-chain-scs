(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{56477:function(e,t,n){Promise.resolve().then(n.bind(n,81809))},81809:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(57437),a=n(2265),i=n(38472),c=n(58399),o=n(12265),s=n.n(o),u=()=>{let[e,t]=(0,a.useState)({LastName:"",Address:"",City:"",State:"",Country:"",ZipCode:"",ProfilePicture:""}),[n,o]=(0,a.useState)(null),[u,d]=(0,a.useState)(""),[l,p]=(0,a.useState)(""),[f,h]=(0,a.useState)(!0),[m,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!async function(){let e=localStorage.getItem("accessToken");if(e)try{let n=await i.Z.get("".concat(c.lx,"/users/me"),{headers:{Authorization:"Bearer ".concat(e)}});200===n.status?(h(!1),o(n.data.user),t(n.data.user)):console.error("Failed to fetch user:",n.statusText)}catch(e){console.error("Failed to fetch user:",e)}}()},[]);let y=n=>{let{name:r,value:a}=n.target;t({...e,[r]:a})},g=async t=>{t.preventDefault(),d(""),p("");let r=localStorage.getItem("accessToken");if(!r){p("User is not authenticated.");return}x(!0);try{let t=await i.Z.put("".concat(c.c_,"/").concat(n.id),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});200===t.status?(x(!1),d("Profile updated successfully!")):p("Failed to update profile.")}catch(e){var a,o;p((null===(o=e.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)||"Something went wrong.")}};return f?(0,r.jsx)("p",{children:"Loading user data..."}):(0,r.jsxs)("div",{className:"".concat(s().signup," w-100 mx-auto d-flex flex-column align-items-center justify-content-center my-3 signupForm"),children:[(0,r.jsx)("h2",{className:"mb-3",children:"Update Profile"}),(0,r.jsxs)("form",{onSubmit:g,className:"".concat(s().form," text-center"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Last Name:"}),(0,r.jsx)("input",{type:"text",id:"LastName",name:"LastName",value:e.LastName||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Address:"}),(0,r.jsx)("input",{type:"text",id:"Address",name:"Address",value:e.Address||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"City",children:"City:"}),(0,r.jsx)("input",{type:"text",id:"City",name:"City",value:e.City||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"State",children:"State:"}),(0,r.jsx)("input",{type:"text",id:"State",name:"State",value:e.State||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Country",children:"Country:"}),(0,r.jsx)("input",{type:"text",id:"Country",name:"Country",value:e.Country||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ZipCode",children:"Zip Code:"}),(0,r.jsx)("input",{type:"text",id:"ZipCode",name:"ZipCode",value:e.ZipCode||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ProfilePicture",children:"Profile Picture URL:"}),(0,r.jsx)("input",{type:"text",id:"ProfilePicture",name:"ProfilePicture",value:e.ProfilePicture||"",onChange:y})]}),(0,r.jsx)("button",{type:"submit",children:m?"Updating....":"Update Profile"})]}),u&&(0,r.jsx)("p",{style:{color:"green"},children:u}),l&&(0,r.jsx)("p",{style:{color:"red"},children:l})]})},d=n(61398),l=n(26031);function p(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(u,{}),(0,r.jsx)(d.Z,{})]})}},58399:function(e,t,n){"use strict";n.d(t,{HL:function(){return P},fs:function(){return U},rc:function(){return j},eJ:function(){return x},G_:function(){return s},av:function(){return R},AE:function(){return l},R9:function(){return m},qZ:function(){return f},XZ:function(){return C},bd:function(){return u},a6:function(){return p},eP:function(){return h},ot:function(){return S},lx:function(){return g},pt:function(){return q},Ii:function(){return L},SE:function(){return _},Fk:function(){return F},UA:function(){return A},c_:function(){return Z},uL:function(){return b},vh:function(){return T},Y8:function(){return w},$C:function(){return k},w:function(){return y},dP:function(){return d},$Y:function(){return E},Kk:function(){return N},Z3:function(){return v}});let r="https://i-scs.co.uk";var a=n(38472);let i=a.Z.create({baseURL:"".concat(r,"/api/business")}),c=a.Z.create({baseURL:"".concat(r,"/api/inquiry")}),o=()=>{let e=localStorage.getItem("abisolToken");return e?{Authorization:"Bearer ".concat(e)}:{}},s=async e=>i.post("/create",e,{headers:o()}),u=async()=>i.get("/",{headers:o()}),d=async(e,t)=>i.put("/".concat(e),t,{headers:o()}),l=async e=>i.delete("/".concat(e),{headers:o()}),p=async()=>c.get("/",{headers:o()}),f=async(e,t)=>c.put("/edit/".concat(e),t,{headers:o()}),h=async e=>c.get("/".concat(e),{headers:o()}),m=async e=>c.delete("/".concat(e),{headers:o()}),x="".concat(r,"/api/contact"),y="".concat(r,"/api/signup"),g="".concat(r,"/api/login"),j="".concat(r,"/api/business-inquiries"),v="".concat(r,"/api/verify-email"),C="".concat(r,"/api/forgot-password"),b="".concat(r,"/api/reset-password"),P="".concat(r,"/api/products"),S="".concat(r,"/api/inquiry/submit"),Z="".concat(r,"/api/userRoutes/profile"),A="".concat(r,"/api/portOfLoading"),F="".concat(r,"/api/portOfDischarge"),L="".concat(r,"/api/paymentTerms"),q="".concat(r,"/api/paymentMethod"),N="".concat(r,"/api/varianceTerms"),k="".concat(r,"/api/shippingTerms"),w="".concat(r,"/api/shippingMethod"),_="".concat(r,"/api/pdfs"),T="".concat(r,"/api"),U="".concat(r,"/api/inquiry/add-product-to-list"),E="".concat(r,"/api/products"),R=e=>"".concat(r,"/api/products/").concat(e)},12265:function(){}},function(e){e.O(0,[2935,8472,2291,6648,4727,2971,7023,1744],function(){return e(e.s=56477)}),_N_E=e.O()}]);