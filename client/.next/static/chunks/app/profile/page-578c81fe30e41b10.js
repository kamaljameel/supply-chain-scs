(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{56477:function(e,t,n){Promise.resolve().then(n.bind(n,81809))},81809:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(57437),i=n(2265),a=n(38472),c=n(58399),o=n(12265),s=n.n(o),u=()=>{let[e,t]=(0,i.useState)({LastName:"",Address:"",City:"",State:"",Country:"",ZipCode:"",ProfilePicture:""}),[n,o]=(0,i.useState)(null),[u,l]=(0,i.useState)(""),[d,p]=(0,i.useState)(""),[f,h]=(0,i.useState)(!0),[m,x]=(0,i.useState)(!1);(0,i.useEffect)(()=>{!async function(){let e=localStorage.getItem("accessToken");if(e)try{let n=await a.Z.get("".concat(c.lx,"/users/me"),{headers:{Authorization:"Bearer ".concat(e)}});200===n.status?(h(!1),o(n.data.user),t(n.data.user)):console.error("Failed to fetch user:",n.statusText)}catch(e){console.error("Failed to fetch user:",e)}}()},[]);let y=n=>{let{name:r,value:i}=n.target;t({...e,[r]:i})},j=async t=>{t.preventDefault(),l(""),p("");let r=localStorage.getItem("accessToken");if(!r){p("User is not authenticated.");return}x(!0);try{let t=await a.Z.put("".concat(c.c_,"/").concat(n.id),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});200===t.status?(x(!1),l("Profile updated successfully!")):p("Failed to update profile.")}catch(e){var i,o;p((null===(o=e.response)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.message)||"Something went wrong.")}};return f?(0,r.jsx)("p",{children:"Loading user data..."}):(0,r.jsxs)("div",{className:"".concat(s().signup," w-100 mx-auto d-flex flex-column align-items-center justify-content-center my-3 signupForm"),children:[(0,r.jsx)("h2",{className:"mb-3",children:"Update Profile"}),(0,r.jsxs)("form",{onSubmit:j,className:"".concat(s().form," text-center"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Last Name:"}),(0,r.jsx)("input",{type:"text",id:"LastName",name:"LastName",value:e.LastName||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Address:"}),(0,r.jsx)("input",{type:"text",id:"Address",name:"Address",value:e.Address||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"City",children:"City:"}),(0,r.jsx)("input",{type:"text",id:"City",name:"City",value:e.City||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"State",children:"State:"}),(0,r.jsx)("input",{type:"text",id:"State",name:"State",value:e.State||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Country",children:"Country:"}),(0,r.jsx)("input",{type:"text",id:"Country",name:"Country",value:e.Country||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ZipCode",children:"Zip Code:"}),(0,r.jsx)("input",{type:"text",id:"ZipCode",name:"ZipCode",value:e.ZipCode||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ProfilePicture",children:"Profile Picture URL:"}),(0,r.jsx)("input",{type:"text",id:"ProfilePicture",name:"ProfilePicture",value:e.ProfilePicture||"",onChange:y})]}),(0,r.jsx)("button",{type:"submit",children:m?"Updating....":"Update Profile"})]}),u&&(0,r.jsx)("p",{style:{color:"green"},children:u}),d&&(0,r.jsx)("p",{style:{color:"red"},children:d})]})},l=n(61398),d=n(26031);function p(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)(u,{}),(0,r.jsx)(l.Z,{})]})}},58399:function(e,t,n){"use strict";n.d(t,{HL:function(){return v},fs:function(){return w},rc:function(){return x},eJ:function(){return f},G_:function(){return s},av:function(){return T},AE:function(){return d},qZ:function(){return p},XZ:function(){return j},bd:function(){return u},ot:function(){return C},lx:function(){return m},pt:function(){return A},Ii:function(){return Z},SE:function(){return N},Fk:function(){return P},UA:function(){return S},c_:function(){return b},uL:function(){return g},vh:function(){return k},Y8:function(){return q},$C:function(){return L},w:function(){return h},dP:function(){return l},$Y:function(){return _},Kk:function(){return F},Z3:function(){return y}});let r="https://i-scs.co.uk";var i=n(38472);let a=i.Z.create({baseURL:"".concat(r,"/api/business")}),c=i.Z.create({baseURL:"".concat(r,"/api/inquiry")}),o=()=>{let e=localStorage.getItem("abisolToken");return e?{Authorization:"Bearer ".concat(e)}:{}},s=async e=>a.post("/create",e,{headers:o()}),u=async()=>a.get("/",{headers:o()}),l=async(e,t)=>a.put("/".concat(e),t,{headers:o()}),d=async e=>a.delete("/".concat(e),{headers:o()}),p=async(e,t)=>c.put("/edit/".concat(e),t,{headers:o()}),f="".concat(r,"/api/contact"),h="".concat(r,"/api/signup"),m="".concat(r,"/api/login"),x="".concat(r,"/api/business-inquiries"),y="".concat(r,"/api/verify-email"),j="".concat(r,"/api/forgot-password"),g="".concat(r,"/api/reset-password"),v="".concat(r,"/api/products"),C="".concat(r,"/api/inquiry/submit"),b="".concat(r,"/api/userRoutes/profile"),S="".concat(r,"/api/portOfLoading"),P="".concat(r,"/api/portOfDischarge"),Z="".concat(r,"/api/paymentTerms"),A="".concat(r,"/api/paymentMethod"),F="".concat(r,"/api/varianceTerms"),L="".concat(r,"/api/shippingTerms"),q="".concat(r,"/api/shippingMethod"),N="".concat(r,"/api/pdfs"),k="".concat(r,"/api"),w="".concat(r,"/api/inquiry/add-product-to-list"),_="".concat(r,"/api/products"),T=e=>"".concat(r,"/api/products/").concat(e)},12265:function(){}},function(e){e.O(0,[2935,8472,2291,6648,4727,2971,7023,1744],function(){return e(e.s=56477)}),_N_E=e.O()}]);