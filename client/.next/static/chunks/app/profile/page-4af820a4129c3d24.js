(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{56477:function(t,e,n){Promise.resolve().then(n.bind(n,81809))},81809:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var r=n(57437),a=n(2265),i=n(38472),c=n(58399),o=n(12265),s=n.n(o),u=()=>{let[t,e]=(0,a.useState)({LastName:"",Address:"",City:"",State:"",Country:"",ZipCode:"",ProfilePicture:""}),[n,o]=(0,a.useState)(null),[u,l]=(0,a.useState)(""),[d,p]=(0,a.useState)(""),[f,h]=(0,a.useState)(!0),[m,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!async function(){let t=localStorage.getItem("accessToken");if(t)try{let n=await i.Z.get("".concat(c.lx,"/users/me"),{headers:{Authorization:"Bearer ".concat(t)}});200===n.status?(h(!1),o(n.data.user),e(n.data.user)):console.error("Failed to fetch user:",n.statusText)}catch(t){console.error("Failed to fetch user:",t)}}()},[]);let y=n=>{let{name:r,value:a}=n.target;e({...t,[r]:a})},j=async e=>{e.preventDefault(),l(""),p("");let r=localStorage.getItem("accessToken");if(!r){p("User is not authenticated.");return}x(!0);try{let e=await i.Z.put("".concat(c.c_,"/").concat(n.id),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});200===e.status?(x(!1),l("Profile updated successfully!")):p("Failed to update profile.")}catch(t){var a,o;p((null===(o=t.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)||"Something went wrong.")}};return f?(0,r.jsx)("p",{children:"Loading user data..."}):(0,r.jsxs)("div",{className:"".concat(s().signup," w-100 mx-auto d-flex flex-column align-items-center justify-content-center my-3 signupForm"),children:[(0,r.jsx)("h2",{className:"mb-3",children:"Update Profile"}),(0,r.jsxs)("form",{onSubmit:j,className:"".concat(s().form," text-center"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Last Name:"}),(0,r.jsx)("input",{type:"text",id:"LastName",name:"LastName",value:t.LastName||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Address:"}),(0,r.jsx)("input",{type:"text",id:"Address",name:"Address",value:t.Address||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"City",children:"City:"}),(0,r.jsx)("input",{type:"text",id:"City",name:"City",value:t.City||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"State",children:"State:"}),(0,r.jsx)("input",{type:"text",id:"State",name:"State",value:t.State||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Country",children:"Country:"}),(0,r.jsx)("input",{type:"text",id:"Country",name:"Country",value:t.Country||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ZipCode",children:"Zip Code:"}),(0,r.jsx)("input",{type:"text",id:"ZipCode",name:"ZipCode",value:t.ZipCode||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ProfilePicture",children:"Profile Picture URL:"}),(0,r.jsx)("input",{type:"text",id:"ProfilePicture",name:"ProfilePicture",value:t.ProfilePicture||"",onChange:y})]}),(0,r.jsx)("button",{type:"submit",children:m?"Updating....":"Update Profile"})]}),u&&(0,r.jsx)("p",{style:{color:"green"},children:u}),d&&(0,r.jsx)("p",{style:{color:"red"},children:d})]})},l=n(61398),d=n(26031);function p(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)(u,{}),(0,r.jsx)(l.Z,{})]})}},58399:function(t,e,n){"use strict";n.d(e,{HL:function(){return v},fs:function(){return k},rc:function(){return x},eJ:function(){return f},G_:function(){return s},av:function(){return T},AE:function(){return d},qZ:function(){return p},XZ:function(){return j},bd:function(){return u},ot:function(){return C},lx:function(){return m},pt:function(){return A},Ii:function(){return Z},SE:function(){return N},Fk:function(){return P},UA:function(){return S},c_:function(){return b},uL:function(){return g},vh:function(){return w},Y8:function(){return q},$C:function(){return L},w:function(){return h},dP:function(){return l},$Y:function(){return _},Kk:function(){return F},Z3:function(){return y}});let r="http://localhost:3001";var a=n(38472);let i=a.Z.create({baseURL:"".concat(r,"/api/business")}),c=a.Z.create({baseURL:"".concat(r,"/api/inquiry")}),o=()=>{let t=localStorage.getItem("abisolToken");return t?{Authorization:"Bearer ".concat(t)}:{}},s=async t=>i.post("/create",t,{headers:o()}),u=async()=>i.get("/",{headers:o()}),l=async(t,e)=>i.put("/".concat(t),e,{headers:o()}),d=async t=>i.delete("/".concat(t),{headers:o()}),p=async(t,e)=>c.put("/edit/".concat(t),e,{headers:o()}),f="".concat(r,"/api/contact"),h="".concat(r,"/api/signup"),m="".concat(r,"/api/login"),x="".concat(r,"/api/business-inquiries"),y="".concat(r,"/api/verify-email"),j="".concat(r,"/api/forgot-password"),g="".concat(r,"/api/reset-password"),v="".concat(r,"/api/products"),C="".concat(r,"/api/inquiry/submit"),b="".concat(r,"/api/userRoutes/profile"),S="".concat(r,"/api/portOfLoading"),P="".concat(r,"/api/portOfDischarge"),Z="".concat(r,"/api/paymentTerms"),A="".concat(r,"/api/paymentMethod"),F="".concat(r,"/api/varianceTerms"),L="".concat(r,"/api/shippingTerms"),q="".concat(r,"/api/shippingMethod"),N="".concat(r,"/api/pdfs"),w="".concat(r,"/api"),k="".concat(r,"/api/inquiry/add-product-to-list"),_="".concat(r,"/api/products"),T=t=>"".concat(r,"/api/products/").concat(t)},12265:function(){}},function(t){t.O(0,[2935,8472,2291,6648,4727,2971,7023,1744],function(){return t(t.s=56477)}),_N_E=t.O()}]);