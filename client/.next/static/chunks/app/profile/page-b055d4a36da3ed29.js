(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{56477:function(t,e,n){Promise.resolve().then(n.bind(n,81809))},81809:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var r=n(57437),a=n(2265),c=n(38472),i=n(58399),o=n(12265),u=n.n(o),s=()=>{let[t,e]=(0,a.useState)({LastName:"",Address:"",City:"",State:"",Country:"",ZipCode:"",ProfilePicture:""}),[n,o]=(0,a.useState)(null),[s,d]=(0,a.useState)(""),[l,p]=(0,a.useState)(""),[f,h]=(0,a.useState)(!0),[m,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!async function(){let t=localStorage.getItem("accessToken");if(t)try{let n=await c.Z.get("".concat(i.lx,"/users/me"),{headers:{Authorization:"Bearer ".concat(t)}});200===n.status?(h(!1),o(n.data.user),e(n.data.user)):console.error("Failed to fetch user:",n.statusText)}catch(t){console.error("Failed to fetch user:",t)}}()},[]);let y=n=>{let{name:r,value:a}=n.target;e({...t,[r]:a})},g=async e=>{e.preventDefault(),d(""),p("");let r=localStorage.getItem("accessToken");if(!r){p("User is not authenticated.");return}x(!0);try{let e=await c.Z.put("".concat(i.c_,"/").concat(n.id),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});200===e.status?(x(!1),d("Profile updated successfully!")):p("Failed to update profile.")}catch(t){var a,o;p((null===(o=t.response)||void 0===o?void 0:null===(a=o.data)||void 0===a?void 0:a.message)||"Something went wrong.")}};return f?(0,r.jsx)("p",{children:"Loading user data..."}):(0,r.jsxs)("div",{className:"".concat(u().signup," w-100 mx-auto d-flex flex-column align-items-center justify-content-center my-3 signupForm"),children:[(0,r.jsx)("h2",{className:"mb-3",children:"Update Profile"}),(0,r.jsxs)("form",{onSubmit:g,className:"".concat(u().form," text-center"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Last Name:"}),(0,r.jsx)("input",{type:"text",id:"LastName",name:"LastName",value:t.LastName||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Address:"}),(0,r.jsx)("input",{type:"text",id:"Address",name:"Address",value:t.Address||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"City",children:"City:"}),(0,r.jsx)("input",{type:"text",id:"City",name:"City",value:t.City||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"State",children:"State:"}),(0,r.jsx)("input",{type:"text",id:"State",name:"State",value:t.State||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Country",children:"Country:"}),(0,r.jsx)("input",{type:"text",id:"Country",name:"Country",value:t.Country||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ZipCode",children:"Zip Code:"}),(0,r.jsx)("input",{type:"text",id:"ZipCode",name:"ZipCode",value:t.ZipCode||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ProfilePicture",children:"Profile Picture URL:"}),(0,r.jsx)("input",{type:"text",id:"ProfilePicture",name:"ProfilePicture",value:t.ProfilePicture||"",onChange:y})]}),(0,r.jsx)("button",{type:"submit",children:m?"Updating....":"Update Profile"})]}),s&&(0,r.jsx)("p",{style:{color:"green"},children:s}),l&&(0,r.jsx)("p",{style:{color:"red"},children:l})]})},d=n(61398),l=n(26031);function p(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(s,{}),(0,r.jsx)(d.Z,{})]})}},58399:function(t,e,n){"use strict";n.d(e,{HL:function(){return P},fs:function(){return U},rc:function(){return j},eJ:function(){return x},G_:function(){return u},av:function(){return R},AE:function(){return l},Eg:function(){return z},R9:function(){return m},ik:function(){return B},qZ:function(){return f},$R:function(){return O},XZ:function(){return C},bd:function(){return s},a6:function(){return p},eP:function(){return h},ot:function(){return S},lx:function(){return g},pt:function(){return k},Ii:function(){return L},SE:function(){return _},Fk:function(){return F},UA:function(){return A},c_:function(){return Z},uL:function(){return b},vh:function(){return T},Y8:function(){return N},$C:function(){return w},w:function(){return y},dP:function(){return d},$Y:function(){return E},l5:function(){return I},Kk:function(){return q},Z3:function(){return v}});let r="https://i-scs.co.uk";var a=n(38472);let c=a.Z.create({baseURL:"".concat(r,"/api/business")}),i=a.Z.create({baseURL:"".concat(r,"/api/inquiry")}),o=()=>{let t=localStorage.getItem("abisolToken");return t?{Authorization:"Bearer ".concat(t)}:{}},u=async t=>c.post("/create",t,{headers:o()}),s=async()=>c.get("/",{headers:o()}),d=async(t,e)=>c.put("/".concat(t),e,{headers:o()}),l=async t=>c.delete("/".concat(t),{headers:o()}),p=async()=>i.get("/",{headers:o()}),f=async(t,e)=>i.put("/edit/".concat(t),e,{headers:o()}),h=async t=>i.get("/".concat(t),{headers:o()}),m=async t=>i.delete("/".concat(t),{headers:o()}),x="".concat(r,"/api/contact"),y="".concat(r,"/api/signup"),g="".concat(r,"/api/login"),j="".concat(r,"/api/business-inquiries"),v="".concat(r,"/api/verify-email"),C="".concat(r,"/api/forgot-password"),b="".concat(r,"/api/reset-password"),P="".concat(r,"/api/products"),S="".concat(r,"/api/inquiry/submit"),Z="".concat(r,"/api/userRoutes/profile"),A="".concat(r,"/api/portOfLoading"),F="".concat(r,"/api/portOfDischarge"),L="".concat(r,"/api/paymentTerms"),k="".concat(r,"/api/paymentMethod"),q="".concat(r,"/api/varianceTerms"),w="".concat(r,"/api/shippingTerms"),N="".concat(r,"/api/shippingMethod"),_="".concat(r,"/api/pdfs"),T="".concat(r,"/api"),U="".concat(r,"/api/inquiry/add-product-to-list"),E="".concat(r,"/api/products"),R=t=>"".concat(r,"/api/products/").concat(t),I="".concat(r,"/api/upload"),O="".concat(r,"/api/files"),z=t=>"".concat(r,"/api/delete/").concat(t),B=t=>"".concat(r,"/api/download/").concat(t)},12265:function(){}},function(t){t.O(0,[2935,8472,2291,6648,4727,2971,7023,1744],function(){return t(t.s=56477)}),_N_E=t.O()}]);