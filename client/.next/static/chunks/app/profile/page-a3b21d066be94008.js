(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{78039:function(e,t,n){Promise.resolve().then(n.bind(n,81809))},81809:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(57437),i=n(2265),a=n(38472),s=n(58399),c=n(12265),o=n.n(c),u=()=>{let[e,t]=(0,i.useState)({LastName:"",Address:"",City:"",State:"",Country:"",ZipCode:"",ProfilePicture:""}),[n,c]=(0,i.useState)(null),[u,l]=(0,i.useState)(""),[d,p]=(0,i.useState)(""),[h,f]=(0,i.useState)(!0),[x,m]=(0,i.useState)(!1);(0,i.useEffect)(()=>{!async function(){let e=localStorage.getItem("accessToken");if(e)try{let n=await a.Z.get("".concat(s.lx,"/users/me"),{headers:{Authorization:"Bearer ".concat(e)}});200===n.status?(f(!1),c(n.data.user),t(n.data.user)):console.error("Failed to fetch user:",n.statusText)}catch(e){console.error("Failed to fetch user:",e)}}()},[]);let y=n=>{let{name:r,value:i}=n.target;t({...e,[r]:i})},j=async t=>{t.preventDefault(),l(""),p("");let r=localStorage.getItem("accessToken");if(!r){p("User is not authenticated.");return}m(!0);try{let t=await a.Z.put("".concat(s.c_,"/").concat(n.id),e,{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});200===t.status?(m(!1),l("Profile updated successfully!")):p("Failed to update profile.")}catch(e){var i,c;p((null===(c=e.response)||void 0===c?void 0:null===(i=c.data)||void 0===i?void 0:i.message)||"Something went wrong.")}};return h?(0,r.jsx)("p",{children:"Loading user data..."}):(0,r.jsxs)("div",{className:"".concat(o().signup," w-100 mx-auto d-flex flex-column align-items-center justify-content-center my-3 signupForm"),children:[(0,r.jsx)("h2",{className:"mb-3",children:"Update Profile"}),(0,r.jsxs)("form",{onSubmit:j,className:"".concat(o().form," text-center"),children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Last Name:"}),(0,r.jsx)("input",{type:"text",id:"LastName",name:"LastName",value:e.LastName||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Address",children:"Address:"}),(0,r.jsx)("input",{type:"text",id:"Address",name:"Address",value:e.Address||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"City",children:"City:"}),(0,r.jsx)("input",{type:"text",id:"City",name:"City",value:e.City||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"State",children:"State:"}),(0,r.jsx)("input",{type:"text",id:"State",name:"State",value:e.State||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"Country",children:"Country:"}),(0,r.jsx)("input",{type:"text",id:"Country",name:"Country",value:e.Country||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ZipCode",children:"Zip Code:"}),(0,r.jsx)("input",{type:"text",id:"ZipCode",name:"ZipCode",value:e.ZipCode||"",onChange:y,required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"ProfilePicture",children:"Profile Picture URL:"}),(0,r.jsx)("input",{type:"text",id:"ProfilePicture",name:"ProfilePicture",value:e.ProfilePicture||"",onChange:y})]}),(0,r.jsx)("button",{type:"submit",children:x?"Updating....":"Update Profile"})]}),u&&(0,r.jsx)("p",{style:{color:"green"},children:u}),d&&(0,r.jsx)("p",{style:{color:"red"},children:d})]})},l=n(61398),d=n(26031);function p(){return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{}),(0,r.jsx)(u,{}),(0,r.jsx)(l.Z,{})]})}},58399:function(e,t,n){"use strict";n.d(t,{HL:function(){return y},fs:function(){return C},rc:function(){return h},eJ:function(){return l},G_:function(){return s},av:function(){return b},AE:function(){return u},XZ:function(){return x},bd:function(){return c},ot:function(){return j},lx:function(){return p},c_:function(){return g},uL:function(){return m},w:function(){return d},dP:function(){return o},$Y:function(){return v},Z3:function(){return f}});let r="https://i-scs.co.uk",i=n(38472).Z.create({baseURL:"".concat(r,"/api/business")}),a=()=>{let e=localStorage.getItem("abisolToken");return e?{Authorization:"Bearer ".concat(e)}:{}},s=async e=>i.post("/create",e,{headers:a()}),c=async()=>i.get("/",{headers:a()}),o=async(e,t)=>i.put("/".concat(e),t,{headers:a()}),u=async e=>i.delete("/".concat(e),{headers:a()}),l="".concat(r,"/api/contact"),d="".concat(r,"/api/signup"),p="".concat(r,"/api/login"),h="".concat(r,"/api/business-inquiries"),f="".concat(r,"/api/verify-email"),x="".concat(r,"/api/forgot-password"),m="".concat(r,"/api/reset-password"),y="".concat(r,"/api/products"),j="".concat(r,"/api/inquiry/submit"),g="".concat(r,"/api/userRoutes/profile"),C="".concat(r,"/api/inquiry/add-product-to-list"),v="".concat(r,"/api/products"),b=e=>"".concat(r,"/api/products/").concat(e)},12265:function(){}},function(e){e.O(0,[2935,8472,2291,6648,4727,2971,7023,1744],function(){return e(e.s=78039)}),_N_E=e.O()}]);