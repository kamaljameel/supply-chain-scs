(()=>{var e={};e.id=178,e.ids=[178],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},1045:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>p}),r(71454),r(37764),r(35866);var s=r(23191),i=r(88716),a=r(37922),n=r.n(a),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let p=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,71454)),"D:\\supply-chain-latest\\supply-chain-scs\\client\\app\\profile\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,37764)),"D:\\supply-chain-latest\\supply-chain-scs\\client\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\supply-chain-latest\\supply-chain-scs\\client\\app\\profile\\page.js"],c="/profile/page",d={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},89804:(e,t,r)=>{Promise.resolve().then(r.bind(r,89714))},89714:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(10326),i=r(17577),a=r(44099),n=r(3461),o=r(94484),l=r.n(o);let p=()=>{let[e,t]=(0,i.useState)({LastName:"",Address:"",City:"",State:"",Country:"",ZipCode:"",ProfilePicture:""}),[r,o]=(0,i.useState)(null),[p,u]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[x,h]=(0,i.useState)(!0),[m,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async function(){let e=localStorage.getItem("accessToken");if(e)try{let r=await a.Z.get(`${n.lx}/users/me`,{headers:{Authorization:`Bearer ${e}`}});200===r.status?(h(!1),o(r.data.user),t(r.data.user)):console.error("Failed to fetch user:",r.statusText)}catch(e){console.error("Failed to fetch user:",e)}})()},[]);let g=r=>{let{name:s,value:i}=r.target;t({...e,[s]:i})},f=async t=>{t.preventDefault(),u(""),d("");let s=localStorage.getItem("accessToken");if(!s){d("User is not authenticated.");return}y(!0);try{let t=await a.Z.put(`${n.c_}/${r.id}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`}});200===t.status?(y(!1),u("Profile updated successfully!")):d("Failed to update profile.")}catch(e){d(e.response?.data?.message||"Something went wrong.")}};return x?s.jsx("p",{children:"Loading user data..."}):(0,s.jsxs)("div",{className:`${l().signup} w-100 mx-auto d-flex flex-column align-items-center justify-content-center my-3 signupForm`,children:[s.jsx("h2",{className:"mb-3",children:"Update Profile"}),(0,s.jsxs)("form",{onSubmit:f,className:`${l().form} text-center`,children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"Address",children:"Last Name:"}),s.jsx("input",{type:"text",id:"LastName",name:"LastName",value:e.LastName||"",onChange:g,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"Address",children:"Address:"}),s.jsx("input",{type:"text",id:"Address",name:"Address",value:e.Address||"",onChange:g,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"City",children:"City:"}),s.jsx("input",{type:"text",id:"City",name:"City",value:e.City||"",onChange:g,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"State",children:"State:"}),s.jsx("input",{type:"text",id:"State",name:"State",value:e.State||"",onChange:g,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"Country",children:"Country:"}),s.jsx("input",{type:"text",id:"Country",name:"Country",value:e.Country||"",onChange:g,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"ZipCode",children:"Zip Code:"}),s.jsx("input",{type:"text",id:"ZipCode",name:"ZipCode",value:e.ZipCode||"",onChange:g,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"ProfilePicture",children:"Profile Picture URL:"}),s.jsx("input",{type:"text",id:"ProfilePicture",name:"ProfilePicture",value:e.ProfilePicture||"",onChange:g})]}),s.jsx("button",{type:"submit",children:m?"Updating....":"Update Profile"})]}),p&&s.jsx("p",{style:{color:"green"},children:p}),c&&s.jsx("p",{style:{color:"red"},children:c})]})};var u=r(60986),c=r(91536);function d(){return(0,s.jsxs)("div",{children:[s.jsx(c.Z,{}),s.jsx(p,{}),s.jsx(u.Z,{})]})}},3461:(e,t,r)=>{"use strict";r.d(t,{HL:()=>q,fs:()=>T,rc:()=>f,eJ:()=>m,G_:()=>u,av:()=>U,AE:()=>x,qZ:()=>h,XZ:()=>$,bd:()=>c,ot:()=>P,lx:()=>g,pt:()=>A,Ii:()=>_,SE:()=>L,Fk:()=>S,UA:()=>b,c_:()=>C,uL:()=>v,vh:()=>k,Y8:()=>F,$C:()=>w,w:()=>y,dP:()=>d,$Y:()=>N,Kk:()=>Z,Z3:()=>j});let s="https://i-scs.co.uk";var i=r(44099);let a=`${s}/api/business`,n=i.Z.create({baseURL:a}),o=`${s}/api/inquiry`,l=i.Z.create({baseURL:o}),p=()=>{let e=localStorage.getItem("abisolToken");return e?{Authorization:`Bearer ${e}`}:{}},u=async e=>n.post("/create",e,{headers:p()}),c=async()=>n.get("/",{headers:p()}),d=async(e,t)=>n.put(`/${e}`,t,{headers:p()}),x=async e=>n.delete(`/${e}`,{headers:p()}),h=async(e,t)=>l.put(`/edit/${e}`,t,{headers:p()}),m=`${s}/api/contact`,y=`${s}/api/signup`,g=`${s}/api/login`,f=`${s}/api/business-inquiries`,j=`${s}/api/verify-email`,$=`${s}/api/forgot-password`,v=`${s}/api/reset-password`,q=`${s}/api/products`,P=`${s}/api/inquiry/submit`,C=`${s}/api/userRoutes/profile`,b=`${s}/api/portOfLoading`,S=`${s}/api/portOfDischarge`,_=`${s}/api/paymentTerms`,A=`${s}/api/paymentMethod`,Z=`${s}/api/varianceTerms`,w=`${s}/api/shippingTerms`,F=`${s}/api/shippingMethod`,L=`${s}/api/pdfs`,k=`${s}/api`,T=`${s}/api/inquiry/add-product-to-list`,N=`${s}/api/products`,U=e=>`${s}/api/products/${e}`},71454:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});var s=r(68570);let i=(0,s.createProxy)(String.raw`D:\supply-chain-latest\supply-chain-scs\client\app\profile\page.js`),{__esModule:a,$$typeof:n}=i;i.default;let o=(0,s.createProxy)(String.raw`D:\supply-chain-latest\supply-chain-scs\client\app\profile\page.js#default`)},94484:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,777,99,496,226,425],()=>r(1045));module.exports=s})();