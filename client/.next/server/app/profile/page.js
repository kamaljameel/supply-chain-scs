(()=>{var e={};e.id=178,e.ids=[178],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},1045:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,originalPathname:()=>c,pages:()=>u,routeModule:()=>h,tree:()=>p}),s(71454),s(37764),s(35866);var r=s(23191),i=s(88716),a=s(37922),n=s.n(a),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let p=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,71454)),"D:\\supply-chain-latest\\supply-chain-scs\\client\\app\\profile\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37764)),"D:\\supply-chain-latest\\supply-chain-scs\\client\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\supply-chain-latest\\supply-chain-scs\\client\\app\\profile\\page.js"],c="/profile/page",d={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},89804:(e,t,s)=>{Promise.resolve().then(s.bind(s,89714))},89714:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(10326),i=s(17577),a=s(44099),n=s(3461),o=s(94484),l=s.n(o);let p=()=>{let[e,t]=(0,i.useState)({LastName:"",Address:"",City:"",State:"",Country:"",ZipCode:"",ProfilePicture:""}),[s,o]=(0,i.useState)(null),[p,u]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[h,x]=(0,i.useState)(!0),[m,y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async function(){let e=localStorage.getItem("accessToken");if(e)try{let s=await a.Z.get(`${n.lx}/users/me`,{headers:{Authorization:`Bearer ${e}`}});200===s.status?(x(!1),o(s.data.user),t(s.data.user)):console.error("Failed to fetch user:",s.statusText)}catch(e){console.error("Failed to fetch user:",e)}})()},[]);let g=s=>{let{name:r,value:i}=s.target;t({...e,[r]:i})},f=async t=>{t.preventDefault(),u(""),d("");let r=localStorage.getItem("accessToken");if(!r){d("User is not authenticated.");return}y(!0);try{let t=await a.Z.put(`${n.c_}/${s.id}`,e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});200===t.status?(y(!1),u("Profile updated successfully!")):d("Failed to update profile.")}catch(e){d(e.response?.data?.message||"Something went wrong.")}};return h?r.jsx("p",{children:"Loading user data..."}):(0,r.jsxs)("div",{className:`${l().signup} w-100 mx-auto d-flex flex-column align-items-center justify-content-center my-3 signupForm`,children:[r.jsx("h2",{className:"mb-3",children:"Update Profile"}),(0,r.jsxs)("form",{onSubmit:f,className:`${l().form} text-center`,children:[(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"Address",children:"Last Name:"}),r.jsx("input",{type:"text",id:"LastName",name:"LastName",value:e.LastName||"",onChange:g,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"Address",children:"Address:"}),r.jsx("input",{type:"text",id:"Address",name:"Address",value:e.Address||"",onChange:g,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"City",children:"City:"}),r.jsx("input",{type:"text",id:"City",name:"City",value:e.City||"",onChange:g,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"State",children:"State:"}),r.jsx("input",{type:"text",id:"State",name:"State",value:e.State||"",onChange:g,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"Country",children:"Country:"}),r.jsx("input",{type:"text",id:"Country",name:"Country",value:e.Country||"",onChange:g,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"ZipCode",children:"Zip Code:"}),r.jsx("input",{type:"text",id:"ZipCode",name:"ZipCode",value:e.ZipCode||"",onChange:g,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"ProfilePicture",children:"Profile Picture URL:"}),r.jsx("input",{type:"text",id:"ProfilePicture",name:"ProfilePicture",value:e.ProfilePicture||"",onChange:g})]}),r.jsx("button",{type:"submit",children:m?"Updating....":"Update Profile"})]}),p&&r.jsx("p",{style:{color:"green"},children:p}),c&&r.jsx("p",{style:{color:"red"},children:c})]})};var u=s(60986),c=s(91536);function d(){return(0,r.jsxs)("div",{children:[r.jsx(c.Z,{}),r.jsx(p,{}),r.jsx(u.Z,{})]})}},3461:(e,t,s)=>{"use strict";s.d(t,{HL:()=>b,fs:()=>D,rc:()=>v,eJ:()=>f,G_:()=>u,av:()=>M,AE:()=>h,R9:()=>g,qZ:()=>m,XZ:()=>P,bd:()=>c,a6:()=>x,eP:()=>y,ot:()=>S,lx:()=>$,pt:()=>F,Ii:()=>w,SE:()=>N,Fk:()=>Z,UA:()=>A,c_:()=>_,uL:()=>C,vh:()=>U,Y8:()=>T,$C:()=>k,w:()=>j,dP:()=>d,$Y:()=>E,Kk:()=>L,Z3:()=>q});let r="https://i-scs.co.uk";var i=s(44099);let a=`${r}/api/business`,n=i.Z.create({baseURL:a}),o=`${r}/api/inquiry`,l=i.Z.create({baseURL:o}),p=()=>{let e=localStorage.getItem("abisolToken");return e?{Authorization:`Bearer ${e}`}:{}},u=async e=>n.post("/create",e,{headers:p()}),c=async()=>n.get("/",{headers:p()}),d=async(e,t)=>n.put(`/${e}`,t,{headers:p()}),h=async e=>n.delete(`/${e}`,{headers:p()}),x=async()=>l.get("/",{headers:p()}),m=async(e,t)=>l.put(`/edit/${e}`,t,{headers:p()}),y=async e=>l.get(`/${e}`,{headers:p()}),g=async e=>l.delete(`/${e}`,{headers:p()}),f=`${r}/api/contact`,j=`${r}/api/signup`,$=`${r}/api/login`,v=`${r}/api/business-inquiries`,q=`${r}/api/verify-email`,P=`${r}/api/forgot-password`,C=`${r}/api/reset-password`,b=`${r}/api/products`,S=`${r}/api/inquiry/submit`,_=`${r}/api/userRoutes/profile`,A=`${r}/api/portOfLoading`,Z=`${r}/api/portOfDischarge`,w=`${r}/api/paymentTerms`,F=`${r}/api/paymentMethod`,L=`${r}/api/varianceTerms`,k=`${r}/api/shippingTerms`,T=`${r}/api/shippingMethod`,N=`${r}/api/pdfs`,U=`${r}/api`,D=`${r}/api/inquiry/add-product-to-list`,E=`${r}/api/products`,M=e=>`${r}/api/products/${e}`},71454:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});var r=s(68570);let i=(0,r.createProxy)(String.raw`D:\supply-chain-latest\supply-chain-scs\client\app\profile\page.js`),{__esModule:a,$$typeof:n}=i;i.default;let o=(0,r.createProxy)(String.raw`D:\supply-chain-latest\supply-chain-scs\client\app\profile\page.js#default`)},94484:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,777,99,496,226,425],()=>s(1045));module.exports=r})();